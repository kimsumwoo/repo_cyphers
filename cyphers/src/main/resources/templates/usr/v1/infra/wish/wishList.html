<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/usr/img/pages/icon.png" type="image/png">
        <title>Pages</title>
        <!-- Bootstrap Css -->
        <link rel="stylesheet" href="/usr/vender/bootstrap/css/bootstrap.min.css">
        <!-- Icofont Css -->
        <link rel="stylesheet" href="/usr/vender/icofont/icofont.min.css">
        <!-- AOS Css -->
        <link rel="stylesheet" href="/usr/vender/aos/dist/aos.css">
        <!-- Remix Icons -->
        <link rel="stylesheet" href="/usr/vender/remixicon/remixicon.css">
        <!-- Custom Css -->
        <link rel="stylesheet" href="/usr/vender/css/style.css">
        <!-- Common Css -->
        <link rel="stylesheet" href="/usr/css/common.css">
    </head>
    <body>
      <form class="row g-3" method="post" name="mfom">
        <div class="bg-elements elements-top-header position-relative">
            <!-- navbar -->
            <div th:replace="~{usr/v1/infra/include/productHead :: productHead}"></div>
            <!-- header -->
            <div class="py-5">
                <div class="container py-5">
                    <div class="row align-items-center justify-content-center">
                        <div class="col-xl-6 col-lg-5 col-md-10 col-12 text-center">
                            <div class="text-white">
                                <h1 class="fw-bolder display-5 mb-3">찜</h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="svg-border-rounded text-light">
                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 144.54 17.34" preserveaspectratio="none" fill="#ffffff"><path d="M144.54,17.34H0V0H144.54ZM0,0S32.36,17.34,72.27,17.34,144.54,0,144.54,0"></path></svg>
            </div>
        </div>
		<div class="py-5">
		    <div class="container py-4">
		        <div class="row g-5">
		            <div class="col-lg-8 col-12 pe-lg-5">
		                <table class="table text-center">
		                    <thead>
		                        <tr>
		                        	<th></th>
		                            <th class="pb-3 px-0" scope="col">상품</th>
		                            <th class="pb-3 px-3" scope="col">가격</th>
		                            <th class="pb-3 px-4" scope="col">삭제</th>
		                            <th class="pb-3 px-0" scope="col">구매</th>
		                        </tr>
		                    </thead>
		                    <tbody>
		                        <tr th:each="list : ${list}">
		                        	
		                            <td class="py-3 px-0 align-middle">
		                                <img src="/usr/img/pages/products/product-1.jpg" alt="" class="img-fluid cart-img rounded-2">
		                            </td>
		                            
		                            <td class="py-3 px-3 align-middle">
		                                <h6 class="m-0" th:text="${list.pdName}">오리통다리</h6>
		                            </td>
		                            <td class="py-3 px-4 align-middle" th:text="${#numbers.formatInteger(list.pdPrice, 3, 'COMMA') + '원'}"></td>
		                           <td class="py-3 px-0 align-middle">
									    <button type="button" class="btn btn-outline-danger rounded-3 delbtn" th:value="${list.whSeq}">
										    <i class="ri-delete-bin-5-fill"></i>
										</button>
									</td>
		                            <td class="align-middle">
		                                <a th:href="@{/usr/v1/infra/checkout/checkOutForm(pdSeq=${list?.pdSeq})}" class="btn btn-purple px-3 py-3 w-100">구매하기</a>
		                            </td>
		                            <input type="hidden" name="mmSeq" th:value="${session.sessSeqUsr}">
		                        </tr>
		                    </tbody>
		                </table>
		            </div>
		        </div>
		    </div>
		</div>
        <!-- footer -->
        <footer class="bg-footer text-white">
            <div class="bg-black py-4">
                <div class="container">
                    <div class="row g-4 py-4">
                        <div class="col-lg-3 col-6">
                            <h5 class="fw-bold pb-3">고객센터</h5>
                            <ul class="list-unstyled d-grid gap-2 text-white-50">
                                <li>number: 02-0000-0000</li>
                                <li>Fax: +1800-964-152</li>
                                <li>Email: tjsdn2587@gmail.com</li>
                            </ul>
                        </div>
                        <div class="col-lg-2 col-12">
                            <h5 class="fw-bold pb-3">영업 시간</h5>
                            <ul class="list-unstyled d-grid gap-2 text-white-50">
                                <li>월 - 금: 10am - 8pm</li>
                                <li>토: 10am - 4pm</li>
                                <li>일: 휴무</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </footer>
            <div class="bg-light py-4 footer-copyright">
                <div class="container">
                    <div class="row align-items-center justify-content-between">
                        <div class="col-auto">
                            <p class="text-center text-muted m-0">Copyright 2024 <a href="#" class="text-black"> Tony Chang all rights reserved.</a> </p>
                        </div>
                    </div>
                </div>
            </div>
         </form>
  <!--        <div class="modal fade" id="delete" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-sm">
                <div class="modal-content bg-white border-0 rounded-4 overflow-hidden">
                    <div class="modal-body text-center p-4">
                        <i class="ri-delete-bin-5-fill ri-3x text-danger"></i>
                        <h4 class="fw-bold">정말로 삭제하시겠습니까?</h4>
                    </div>
                    <div class="modal-footer border-0 p-0">
                        <a href="#" class="btn btn-outline-dark rounded-0 m-0 py-2 w-50 border-0 border-top" data-bs-dismiss="modal"> <i class="ri-close-fill me-2"></i>Cancel </a>
                        <button type="button" id="delbtn" class="btn btn-danger rounded-0 m-0 py-2 w-50 border-0 border-top" data-bs-dismiss="modal"> <i class="ri-delete-bin-5-fill me-2"></i>Delete </button>
                    </div>
                </div>
            </div>
        </div> -->
		
		<script>
		    // 모든 삭제 버튼에 클릭 이벤트 추가
		    document.querySelectorAll(".delbtn").forEach(function(button) {
		        button.onclick = function() {
		            let form = document.querySelector("form[name=mfom]");
		            form.action = "/usr/v1/infra/wish/wishDete";
		            // 해당 버튼의 value를 hidden input에 설정
		            let hiddenInput = document.createElement("input");
		            hiddenInput.type = "hidden";
		            hiddenInput.name = "whSeq"; // 서버에 전송할 이름
		            hiddenInput.value = this.value; // 버튼의 value 사용
		            form.appendChild(hiddenInput);
		            form.submit();
		        }
		    });
		</script>




        <!-- Bootsrap Bundle Js -->
        <script src="/usr/vender/bootstrap/js/bootstrap.bundle.min.js"></script>
        <!-- Jquery Js -->
        <script src="/usr/vender/jquery/jquery-3.6.4.min.js"></script>
        <!-- AOS Js -->
        <script src="/usr/vender/aos/dist/aos.js"></script>
        <!-- Custom Js -->
        <script src="/usr/js/script.js"></script>
    </body>
</html>
