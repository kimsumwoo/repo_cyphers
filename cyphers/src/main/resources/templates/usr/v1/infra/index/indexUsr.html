<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/usr/img/pages/icon.png" type="image/png">
        <title>Petx | Pet Care & Pet Shop Website Template</title>
        <!-- Bootstrap Css -->
        <link rel="stylesheet" href="/usr/vender/bootstrap/css/bootstrap.min.css">
        <!-- Icofont Css -->
        <link rel="stylesheet" href="/usr/vender/icofont/icofont.min.css">
        <!-- AOS Css -->
        <link rel="stylesheet" href="/usr/vender/aos/dist/aos.css">
        <!-- Remix Icon -->
        <link rel="stylesheet" href="/usr/vender/remixicon/remixicon.css">
        <!-- Custom Css -->
        <link rel="stylesheet" href="/usr/css/style.css">
        <!-- Common Css -->
        <link rel="stylesheet" href="/usr/css/common.css">
    </head>
    <body>
        <!-- Page loading spinner -->
        <div class="page-loading active">
            <div class="page-loading-inner">
                <div class="page-spinner"></div>
                <span>Loading...</span>
            </div>
        </div>
        <div class="homepage">
            <!-- navbar -->
            <nav class="navbar osahan-main-nav navbar-expand pets-nav p-0">
                <div class="container py-lg-0 py-3">
                    <div class="position-relative d-flex align-items-center gap-2 site-brand">
                        <i class="ri-baidu-line fs-2 lh-1 text-danger"></i>
                        <div class="lh-1">
                            <h5 class="fw-bold m-0 text-white">pet</h5>
                        </div>
                        <a class="stretched-link" href="/usr/v1/infra/index/indexUsr"></a>
                    </div>
                    <div class="collapse navbar-collapse">
                        <ul class="navbar-nav ms-auto gap-4 m-none">
                            <li class="nav-item">
                                <a class="nav-link active" href="/usr/v1/infra/index/indexUsr"><i class="ri-apps-2-line"></i> Home</a>
                            </li>
                            
                            
                                <a class="nav-link" href="/usr/v1/infra/productUsrgrid/productUsrGridList" role="button"><i class="ri-shopping-cart-2-line"></i> product </a>
                                
                        </ul>
                        <div class="d-flex align-items-center gap-4 ms-auto ms-lg-0 ps-4">
                            <a href="/usr/v1/infra/order/OrderList" class="link-light d-none d-lg-block"><i class="ri-account-pin-circle-fill ri-lg"></i></a>
                            <a href="/usr/v1/infra/wish/wishList" class="link-light"><i class="ri-heart-3-fill"></i></a>
                            <span th:if="${session.sessSeqUsr}" class="user-name d-none d-md-block" th:text ="${session.sessNameUsr} + '님 환영합니다'"></span>
                            <span th:unless="${session.sessSeqUsr}" class="user-name d-none d-md-block"></span>
                             <span th:if="${session.userId}" class="user-name d-none d-md-block" th:text ="${session.nickname} + '님 환영합니다'"></span>
                            <span th:unless="${session.userId}" class="user-name d-none d-md-block"></span> 
				                <a th:unless="${session.sessSeqUsr}" href="/usr/v1/infra/login/loginUsrForm">계정로그인</a>
         				        <a th:if="${session.sessSeqUsr}" id="logout" href="/usr/v1/infra/login/loginUsrForm">계정로그아웃</a> 
         				        <a th:if="${session.userId}" id="logout" href="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=affc9146db787d0bf3ae465a41142466&redirect_uri=http://localhost:8080/usr/v1/infra/login/logoutUsrKakao">카카오로그아웃</a>
				            </li>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Header -->
            <div class="py-0">
                <div class="container">
                    <div class="row align-items-center g-4 pb-lg-5">
                        <div class="col-lg-6 col-12 pb-lg-5 pe-lg-5">
                            <div class="text-white text-center text-md-start py-5" data-aos="fade-right" data-aos-duration="1000">
                                <div class="mb-5">
                                    <h6 class="fw-light text-white-50 mb-0">WE HAVE THE BEST PRODUCTS</h6>
                                    <h1 class="fw-bold display-2 py-2">반려동물간식전문점 입니다.</h1>
                                    <p class="lead pe-lg-5">또 하나의 가족 강아지에게 잊지못할 한끼를 선물하세요!</p>
                                </div>
                                <!-- <a href="#" class="btn btn-danger btn-lg rounded-pill">구매 하기</a> -->
                            </div>
                        </div>
                        <div class="col-lg-6 col-12 pb-lg-5">
                            <img src="/usr/img/pngwing.com.png" alt="header-img" class="img-fluid d-block mx-auto" data-aos="fade-left" data-aos-duration="1000">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- OFF -->
       <div class="mt-6">
		    <div class="container">
		        <div class="row">
		            <div class="col-12">
		                <div class="bg-danger text-white p-3 rounded-5">
		                    <div class="row align-items-center justify-content-center g-4">
		                        <!-- 메인 콘텐츠 영역 -->
		                        <div id="weather-result" class="col-lg-7 d-flex justify-content-center align-items-center flex-column text-center">
		                            <h3 class="text-2xl font-bold mb-4">산책날씨예보</h3>
		                            <select class="form-select border p-2 w-100 mb-3" id="city-input">
		                                <option value="공백">선택하세요</option>
		                                <option value="Seoul">서울</option>
		                                <option value="Busan">부산</option>
		                                <option value="Suwon">수원</option>
		                                <option value="Seongnam">성남</option>
		                                <option value="Goyang">고양</option>
		                                <option value="Incheon">인천</option>
		                                <option value="Daegu">대구</option>
		                                <option value="Daejeon">대전</option>
		                                <option value="Gwangju">광주</option>
		                                <option value="Ulsan">울산</option>
		                                <option value="Jeju">제주</option>
		                                <option value="Changwon">창원</option>
		                                <option value="Cheongju">청주</option>
		                                <option value="Jeonju">전주</option>
		                                <option value="Pyeongtaek">평택</option>
		                                <option value="Pohang">포항</option>
		                                <option value="Wonju">원주</option>
		                                <option value="Chuncheon">춘천</option>
		                                <option value="Namyangju">남양주</option>
		                                <option value="Ansan">안산</option>
		                                <option value="Gimhae">김해</option>
		                                <option value="Bucheon">부천</option>
		                                <option value="Yangsan">양산</option>
		                                <option value="Gangneung">강릉</option>
		                                <option value="Namwon">남원</option>
		                                <option value="Iksan">익산</option>
		                                <option value="Mokpo">목포</option>
		                                <option value="Suwon">수원</option>
		                                <option value="Paju">파주</option>
		                            </select>
		                            <button onclick="fetchForecast()" class="btn btn-light btn-lg rounded-pill mb-4">
		                                예보 조회
		                            </button>
		                            <div id="forecast-result" class="mt-6">
		                                <!-- 날씨 예보 결과가 여기에 표시됩니다 -->
		                            </div>
		                        </div>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		</div>
        <!-- Best sellers -->
        <div class="py-5">
            <div class="container py-4">
                <div data-aos="fade-up" data-aos-duration="500" class="row mb-5">
                    <div class="col-6 mx-auto">
                        <div class="text-center">
                            <p class="text-secondary-emphasis mb-2 fw-normal text-uppercase"></p>
                            <h1 class="fw-bold display-5">인기상품</h1>
                            <span class="bg-danger px-5 mx-auto d-flex pb-2 justify-content-center col-1 rounded-pill"></span>
                        </div>
                    </div>
                </div>
                <div class="row g-4 g-md-5">
                    <div class="col-lg-4 col-md-6 col-12" th:each="mostlist : ${mostlist}">
                        <div class="card bg-transparent border-0 rounded-0 text-center zoom-img" data-aos="zoom-in" data-aos-duration="1000">
                            <div class="overflow-hidden rounded-5">
                                <a th:href="@{/usr/v1/infra/productUsrDetail/productUsrDetail(pdSeq=${mostlist.pdSeq})}"><img th:src="${mostlist.path}" class="card-img-top rounded-5" alt="product"></a>
                            </div>
                            <div class="card-body">
                                <a th:href="@{/usr/v1/infra/productUsrDetail/productUsrDetail(pdSeq=${mostlist.pdSeq})}"> <h5 class="card-title fw-bold pb-2" th:text="${mostlist.pdName}">소형견을 위한 특식 오리통다리</h5> </a>
                                <p class="card-text fw-semibold text-danger mb-1" th:text="${#numbers.formatInteger(mostlist.pdPrice, 3, 'COMMA') + '원'}">7,000원</p>
                            </div>
                            <div class="card-footer bg-transparent border-0"><a th:href="@{/usr/v1/infra/checkout/checkOutForm(pdSeq=${mostlist.pdSeq})}" class="btn btn-danger rounded-pill py-2 px-4">구입하기</a></div>
                        </div>
                    </div>
                    
                    
                </div>
            </div>
        </div>
        <!-- Clients Testimonials -->
        <div class="bg-new-products text-white py-5">
            <div class="container py-4">
                <div data-aos="fade-up" data-aos-duration="500" class="row mb-5">
                    <div class="col-6 mx-auto">
                        <div class="text-center">
                            <h1 class="fw-bold display-5">후기</h1>
                            <span class="bg-danger px-5 mx-auto d-flex pb-2 justify-content-center col-1 rounded-pill"></span>
                        </div>
                    </div>
                </div>

                <div class="row g-4">
                    <div class="col-lg-4 col-12" th:each="rvlist : ${rvlist}">
                        <div class="card bg-transparent border-0 rounded-0 text-center p-4 h-100" data-aos="fade-up" data-aos-duration="1300">
                            <a th:href="@{/usr/v1/infra/productUsrDetail/productUsrDetail(pdSeq=${rvlist.pdSeq})}"><img th:src="${rvlist.path}" alt="testimonial" class="img-fluid rounded-circle d-block mx-auto testimonial-img"></a>                           
                            <a th:href="@{/usr/v1/infra/productUsrDetail/productUsrDetail(pdSeq=${rvlist.pdSeq})}"><p class="text-white mb-0" th:text="${rvlist.pdName}"></p></a>
                            <div class="card-body mt-3">
                            	<p class="text-white mb-0" th:text="${rvlist.mmRealName} + ' 님의 리뷰'"></p>
                                <i class="ri-star-fill text-warning" th:if="${rvlist.rvRank eq 5}"><i class="ri-star-fill text-warning"></i><i class="ri-star-fill text-warning"></i><i class="ri-star-fill text-warning"></i><i class="ri-star-fill text-warning"></i></i>
                            </div>
                            <div class="card-footer bg-transparent border-0">
                                 <p class="card-title lead" th:text="${rvlist.rvComment}"></p>
                            </div>
                        </div>
                    </div>
                    
                    
                </div>
            </div>
        </div>
        <!-- New Product arrival -->
        <div class="py-5">
            <div class="container py-4">
                <div data-aos="fade-up" data-aos-duration="500" class="row mb-5">
                    <div class="col-6 mx-auto">
                        <div class="text-center">
                            <h1 class="fw-bold display-5">신상품</h1>
                            <span class="bg-danger px-5 mx-auto d-flex pb-2 justify-content-center col-1 rounded-pill"></span>
                        </div>
                    </div>
                </div>

                <div class="row g-4">
                    <div class="col-lg-4 col-md-6 col-12" th:each="newlist : ${newlist}">
                        <div class="card bg-transparent border-0 rounded-0 text-center zoom-img" data-aos="zoom-in" data-aos-duration="1000">
                            <a th:href="@{/usr/v1/infra/productUsrDetail/productUsrDetail(pdSeq=${newlist.pdSeq})}">
                                <div class="overflow-hidden rounded-5">
                                    <img th:src="${newlist.path}" class="card-img-top rounded-5" alt="new-product">
                                </div>
                            </a>
                            <div class="card-body">
                                <a th:href="@{/usr/v1/infra/productUsrDetail/productUsrDetail(pdSeq=${newlist.pdSeq})}"> <h5 class="card-title fw-bold pb-2" th:text="${newlist.pdName}">알 품은 통메추리</h5> </a>
                                <p class="card-text fw-semibold text-danger mb-1" th:text="${#numbers.formatInteger(newlist.pdPrice, 3, 'COMMA') + '원'}">17,800원</p>
                                <small class="card-text"></small>
                            </div>
                            <div class="card-footer bg-transparent border-0"><a th:href="@{/usr/v1/infra/checkout/checkOutForm(pdSeq=${newlist.pdSeq})}" class="btn btn-danger rounded-pill py-2 px-4">구매하기</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- footer -->
        <footer class="bg-footer text-white">
            <div class="bg-black py-4">
                <div class="container">
                    <div class="row g-4 py-4">
                        <div class="col-lg-3 col-6">
                            <h5 class="fw-bold pb-3">고객센터</h5>
                            <ul class="list-unstyled d-grid gap-2 text-white-50">
                                <li>number: 02-0000-0000</li>
                                <li>Fax: +1800-964-152</li>
                                <li>Email: tjsdn2587@gmail.com</li>
                            </ul>
                        </div>
                        <div class="col-lg-2 col-12">
                            <h5 class="fw-bold pb-3">영업 시간</h5>
                            <ul class="list-unstyled d-grid gap-2 text-white-50">
                                <li>월 - 금: 10am - 8pm</li>
                                <li>토: 10am - 4pm</li>
                                <li>일: 휴무</li>
                            </ul>
                        </div>
                    </div>
                   
                </div>
            </div>
            </footer>
            <div class="bg-light py-4 footer-copyright">
                <div class="container">
                    <div class="row align-items-center justify-content-between">
                        <div class="col-auto">
                            <p class="text-center text-muted m-0">Copyright 2024 <a href="#" class="text-black"> Tony Chang all rights reserved.</a> </p>
                        </div>
                        <div class="col-auto">
                        </div>
                    </div>
                </div>
            </div>
      	<script type="text/javascript">
			document.getElementById("logout").onclick = function (){
				$.ajax({
					async: true 
					,cache: false
					,type: "post"
					/* ,dataType:"json" */
					,url: "/usr/v1/infra/login/logoutUsrFormProc"
					,success: function(response) {
						if(response.rt == "success") {
						location.href ="/usr/v1/infra/login/loginUsrForm";
						}else {
						   	
					    }
					}	
				});
			}		
		</script>
		 <script type="text/javascript">
		    async function fetchForecast() {
		        let city = document.getElementById('city-input').value.trim();
		
		        // 도시가 선택되지 않았으면 알림을 띄움
		        if (city === "공백") {
		            alert("도시를 선택해주세요.");
		            return;
		        }
		
		        let apiKey = '1a9bdfcf12d44b4a88e2a1fb643ac881'; // OpenWeatherMap API 키
		        let url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric&lang=kr`; // 현재 날씨만 가져오는 API 사용
		        
		        try {
		            let response = await fetch(url);
		            let data = await response.json();
		            
		            if (data.cod !== 200) {
		                alert("날씨 정보를 가져오는데 실패했습니다.");
		                return;
		            }
		
		            displayCurrentWeather(data); // 현재 날씨만 출력하는 함수 호출
		        } catch (error) {
		            console.error('날씨 정보를 가져오는데 실패했습니다.', error);
		            alert("날씨 정보를 가져오는 중 오류가 발생했습니다.");
		        }
		    }
		
		    function displayCurrentWeather(data) {
		        let weatherDiv = document.getElementById('forecast-result');
		
		        // 기존 내용 초기화
		        weatherDiv.innerHTML = '';
		
		        // 날씨 정보 추출
		        let cityName = data.name;
		        let temperature = data.main.temp;
		        let description = data.weather[0].description;
		        let humidity = data.main.humidity;
		        let windSpeed = data.wind.speed;
		        let icon = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
		
		        // 날씨 정보 출력
		        weatherDiv.innerHTML = `
		            <h2 class="text-xl mb-4">${cityName}의 현재 날씨</h2>
		            <div>
		                <img src="${icon}" class="mb-3">
		                <p><strong>온도:</strong> ${temperature}°C</p>
		                <p><strong>상태:</strong> ${description}</p>
		                <p><strong>습도:</strong> ${humidity}%</p>
		                <p><strong>풍속:</strong> ${windSpeed} m/s</p>
		            </div>
		        `;
		    }
		</script>
        <!-- Bootsrap Bundle Js -->
        <script src="/usr/vender/bootstrap/js/bootstrap.bundle.min.js"></script>
        <!-- Jquery Js -->
        <script src="/usr/vender/jquery/jquery-3.6.4.min.js"></script>
        <!-- AOS Js -->
        <script src="/usr/vender/aos/dist/aos.js"></script>
        <!-- Custom Js -->
        <script src="/usr/js/script.js"></script>
    </body>
</html>
